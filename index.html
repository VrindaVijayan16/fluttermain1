<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MYG Web Store</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header { background-color: #2e7d32; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { margin: 0; }
    nav button { margin-left: 10px; padding: 5px 10px; }
    .categories { display: flex; gap: 10px; padding: 10px; overflow-x: auto; }
    .categories button { padding: 5px 10px; }
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; padding: 20px; }
    .product-card { border: 1px solid #ccc; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; }
    .product-card img { width: 100%; height: 150px; object-fit: contain; }
    .product-card h3 { margin: 10px; font-size: 16px; }
    .product-card p { margin: 0 10px 10px; font-size: 14px; }
    .product-card button { margin: 10px; padding: 5px 10px; background-color: #2e7d32; color: white; border: none; cursor: pointer; }
    .cart, .favorites { position: fixed; top: 70px; right: 20px; width: 300px; max-height: 80%; overflow-y: auto; background: white; border: 1px solid #ccc; padding: 10px; border-radius: 8px; display: none; }
    .cart h2, .favorites h2 { margin-top: 0; }
    .cart-item { display: flex; justify-content: space-between; margin-bottom: 10px; }
    .cart-item span { margin-left: 5px; }
  </style>
</head>
<body>

<header>
  <h1>MYG Store</h1>
  <div>
    <button onclick="toggleCart()">Cart (<span id="cart-count">0</span>)</button>
    <button onclick="toggleFavorites()">Favorites (<span id="fav-count">0</span>)</button>
  </div>
</header>

<div class="categories" id="categories">
  <!-- Category buttons added dynamically -->
</div>

<div class="products" id="products">
  <!-- Product cards added dynamically -->
</div>

<div class="cart" id="cart">
  <h2>Cart</h2>
  <div id="cart-items"></div>
  <p>Total: $<span id="cart-total">0</span></p>
</div>

<div class="favorites" id="favorites">
  <h2>Favorites</h2>
  <div id="fav-items"></div>
</div>

<script>
const categories = ["All", "Mobiles", "Laptops", "Appliances", "Clothing"];

const products = [
  {id: 'p1', name: 'iPhone 14', category: 'Mobiles', price: 999.99, image: 'https://via.placeholder.com/150'},
  {id: 'p2', name: 'Samsung Galaxy S23', category: 'Mobiles', price: 899.99, image: 'https://via.placeholder.com/150'},
  {id: 'p3', name: 'MacBook Pro', category: 'Laptops', price: 1999.99, image: 'https://via.placeholder.com/150'},
];

let cart = [];
let favorites = [];
let selectedCategory = "All";

function renderCategories() {
  const container = document.getElementById('categories');
  container.innerHTML = '';
  categories.forEach(cat => {
    const btn = document.createElement('button');
    btn.textContent = cat;
    btn.style.backgroundColor = cat === selectedCategory ? '#2e7d32' : '#f0f0f0';
    btn.style.color = cat === selectedCategory ? 'white' : 'black';
    btn.onclick = () => { selectedCategory = cat; renderProducts(); renderCategories(); };
    container.appendChild(btn);
  });
}

function renderProducts() {
  const container = document.getElementById('products');
  container.innerHTML = '';
  const filtered = selectedCategory === "All" ? products : products.filter(p => p.category === selectedCategory);
  filtered.forEach(p => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <img src="${p.image}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p>$${p.price}</p>
      <button onclick="addToCart('${p.id}')">Add to Cart</button>
      <button onclick="toggleFavorite('${p.id}')">${favorites.includes(p.id) ? '‚ù§Ô∏è' : 'ü§ç'}</button>
    `;
    container.appendChild(card);
  });
}

function addToCart(id) {
  const product = products.find(p => p.id === id);
  const existing = cart.find(c => c.id === id);
  if (existing) existing.quantity += 1;
  else cart.push({...product, quantity: 1});
  renderCart();
}

function toggleFavorite(id) {
  if (favorites.includes(id)) favorites = favorites.filter(f => f !== id);
  else favorites.push(id);
  renderProducts();
  renderFavorites();
}

function renderCart() {
  const container = document.getElementById('cart-items');
  const countSpan = document.getElementById('cart-count');
  const totalSpan = document.getElementById('cart-total');
  container.innerHTML = '';
  let total = 0;
  cart.forEach(item => {
    total += item.price * item.quantity;
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `${item.name} x${item.quantity} <span>$${(item.price*item.quantity).toFixed(2)}</span>`;
    container.appendChild(div);
  });
  countSpan.textContent = cart.length;
  totalSpan.textContent = total.toFixed(2);
}

function renderFavorites() {
  const container = document.getElementById('fav-items');
  const countSpan = document.getElementById('fav-count');
  container.innerHTML = '';
  favorites.forEach(id => {
    const product = products.find(p => p.id === id);
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.textContent = product.name;
    container.appendChild(div);
  });
  countSpan.textContent = favorites.length;
}

function toggleCart() {
  const cartEl = document.getElementById('cart');
  cartEl.style.display = cartEl.style.display === 'block' ? 'none' : 'block';
}

function toggleFavorites() {
  const favEl = document.getElementById('favorites');
  favEl.style.display = favEl.style.display === 'block' ? 'none' : 'block';
}

// Initial render
renderCategories();
renderProducts();
</script>

</body>
</html>
